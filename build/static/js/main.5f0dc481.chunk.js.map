{"version":3,"sources":["components/Persons.js","components/AddPerson.js","components/Filter.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Person","person","handleDelete","name","number","onClick","id","Persons","persons","map","AddPerson","onSubmit","handleNameChange","newName","handleNumberChange","newNumber","onChange","value","type","Filter","filter","handleFilter","url","personService","getAll","response","axios","get","nonExist","then","data","concat","create","personObject","post","remove","delete","update","put","Notification","message","errorStyle","color","fontStyle","fontSize","borderStyle","borderRadius","padding","marginBottom","includes","style","App","useState","setPersons","setNewName","setNewNumber","setFilter","errorMessage","setErrorMessage","useEffect","PersonService","initialPerson","handleNotification","setTimeout","personsToShow","length","toLowerCase","event","target","header","preventDefault","find","element","window","confirm","updatePerson","returnedPerson","catch","error","newPerson","deletePerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5f0dc481.chunk.js","sourcesContent":["import React from 'react'\nconst Person = ({ person, handleDelete }) =>(\n  <p>{person.name} {person.number} <button onClick={()=>handleDelete(person.id)}>delete </button></p>  \n)\nconst Persons =({persons, handleDelete}) =>(\n      <div>\n        {persons.map(person => <Person key={person.name} person={person} handleDelete={handleDelete} />)}\n      </div>\n)\nexport default Persons\n","import React from 'react'\nconst AddPerson = ({onSubmit, handleNameChange, newName, handleNumberChange, newNumber}) =>(\n  <div>\n      <form onSubmit={onSubmit}>\n        <div>\n          name: <input onChange={handleNameChange} value={newName}/>\n        </div>\n        <div>\n          number: <input onChange={handleNumberChange} value={newNumber}/>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n  </div>\n)\nexport default AddPerson\n","import React from 'react'\n\nconst Filter =({filter, handleFilter}) =>(\n    <div>\n      <div> filter shown with <input onChange={handleFilter} value={filter} /></div>\n    </div>\n)\nexport default Filter\n","import axios from 'axios'\n\nconst url='/api/persons'\n\nconst getAll = () => {  \n  const response = axios.get(url)\n  const nonExist = {\n    name:'Not on server',\n    number:'12345',\n    id:10000,\n  }\n  return response.then(response=>response.data.concat(nonExist))\n}\nconst create = (personObject) =>{\n  const response = axios\n  .post(url, personObject)\n  return response.then(response=> response.data )\n}\nconst update = (personObject, id) =>{\n  const response = axios\n  .put(`${url}/${id}`, personObject)\n  return response.then(response=>response.data)\n}\nconst remove = (id) => {\n\n  const response = axios\n  .delete(`${url}/${id}`)\n  return response.then(response=>response.data)\n\n}\nconst personService = { getAll, create, remove, update}\nexport default personService\n\n","import React from 'react'\nconst Notification = ({message}) =>{\n  if (message === null){\n    return null\n  }\n  const errorStyle={\n    color:'green',\n    fontStyle:'italic',\n    fontSize:32,\n    borderStyle:'solid',\n    borderRadius:'5px',\n    padding:'10px',\n    marginBottom:'10px'\n  }\n  if (message.includes('error')) errorStyle.color='red' \n  \n  return (\n    <div>\n      <p style={errorStyle}>{message}</p>\n    </div>\n    )\n}\n\nexport default Notification\n","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport AddPerson from './components/AddPerson'\nimport Filter from './components/Filter'\nimport PersonService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [ errorMessage, setErrorMessage ] = useState(null) \n  useEffect(()=>{\n    PersonService\n      .getAll()\n      .then(initialPerson=>setPersons(initialPerson))\n      }\n  ,[])\n\n  const handleNotification = (message) => {\n        \n        setErrorMessage(message)\n        setTimeout(() => {\n          setErrorMessage(null)\n        },5000)\n  }\n  const handleFilter = (event) => setFilter(event.target.value) \n  const handleNameChange = (event) => setNewName(event.target.value)\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n\n  const handleDelete = id => {\n    const deletePerson={\n     ...persons.find(person=>person.id===id)\n    }\n    if( window.confirm(`Delete ${deletePerson.name}`)){\n      PersonService\n      .remove(id)\n      .then(response=>{\n        setPersons(persons.filter(person=>person.id!==id))\n        handleNotification(`${deletePerson.name} deleted from server`)\n      })\n      .catch(error => {\n        handleNotification(`error:${deletePerson.name} has already removed from server`)\n        setPersons(persons.filter(person=>person.id!==deletePerson.id))\n      })\n    }\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const exists = persons.find(element =>element.name.toLowerCase()===newName.toLowerCase() )\n    if(!exists){\n      const newPerson={\n        name:newName,\n        number:newNumber,\n      }\n\n      PersonService\n      .create(newPerson)\n      .then(returnedPerson=>{\n        handleNotification(`Add ${returnedPerson.name} to phonebook`)\n        setPersons(persons.concat(returnedPerson))\n        setNewName('')\n        setNewNumber('')\n      })\n      .catch(error =>{\n        handleNotification(error.response.data.error) \n      })\n\n    }else{\n      if(window.confirm(`${newName}, is already added to phonebook, replace the old number with a new one?`)){\n        const updatePerson={\n          ...persons.find(person=>person.name===newName),\n          number:newNumber,\n        }\n        PersonService\n        .update(updatePerson, updatePerson.id)\n        .then(returnedPerson=>{\n          handleNotification(`Change ${returnedPerson.name} number`)\n          setPersons(persons.map(person=>person.id===updatePerson.id?returnedPerson:person))\n          setNewName('')\n          setNewNumber('')\n        })\n        .catch(error => {\n          handleNotification(`error:${updatePerson.name} has already removed from server`)\n          setPersons(persons.filter(person=>person.id!==updatePerson.id))\n      })\n      }\n    }\n  }\n\n  const personsToShow = filter.length ===0\n  ?persons: persons.filter(value => value.name.toLowerCase().includes(filter.toLowerCase()))\n  \n  return (\n    <div>\n    <h2>Phonebook </h2>\n    <Notification message={errorMessage} />\n      <Filter filter={filter} handleFilter={handleFilter} header='Phonebook' />\n    <h3> Add a new</h3>\n      <AddPerson onSubmit={addPerson} handleNameChange={handleNameChange} newName={newName} handleNumberChange={handleNumberChange} newNumber={newNumber} />\n    <h3>Numbers</h3>\n      <Persons persons={personsToShow} handleDelete={handleDelete} />\n    </div>\n  )\n\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}